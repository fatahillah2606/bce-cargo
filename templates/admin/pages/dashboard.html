{% extends 'admin/base.html' %}

<!-- Title -->
{% block title %}Dashboard{% endblock %}

<!-- Style -->
{% block style %}
<link
    rel="stylesheet"
    href="{{url_for('static',filename='css/admin/dashboard.css')}}"
/>
{% endblock %}

<!-- Judul header -->
{% block judul %}Dashboard{% endblock %}
<!-- Konten -->
{% block konten %}
<div class="p-5">
    <!-- Ringkasan data -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6">
        <!-- Total Pesanan -->
        <div
            class="bg-white dark:bg-zinc-800 shadow rounded-xl p-4 flex items-center gap-4"
        >
            <span
                class="material-symbols-rounded text-4xl text-blue-500 dark:text-blue-400"
                >local_shipping</span
            >
            <div>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                    Total Pesanan
                </p>
                <p class="text-2xl font-bold text-gray-800 dark:text-gray-200">
                    128
                </p>
            </div>
        </div>

        <!-- Sedang Dikirim -->
        <div
            class="bg-white dark:bg-zinc-800 shadow rounded-xl p-4 flex items-center gap-4"
        >
            <span
                class="material-symbols-rounded text-4xl text-yellow-500 dark:text-yellow-400"
                >delivery_dining</span
            >
            <div>
                <p class="text-sm text-gray-500 dark:text-gray-400">
                    Sedang Dikirim
                </p>
                <p class="text-2xl font-bold text-gray-800 dark:text-gray-200">
                    42
                </p>
            </div>
        </div>

        <!-- Selesai Terkirim -->
        <div class="bg-white shadow rounded-xl p-4 flex items-center gap-4">
            <span class="material-symbols-rounded text-4xl text-green-500"
                >check_circle</span
            >
            <div>
                <p class="text-sm text-gray-500">Terkirim</p>
                <p class="text-2xl font-bold text-gray-800">74</p>
            </div>
        </div>

        <!-- Tagihan Belum Dibayar -->
        <div class="bg-white shadow rounded-xl p-4 flex items-center gap-4">
            <span class="material-symbols-rounded text-4xl text-red-500"
                >receipt_long</span
            >
            <div>
                <p class="text-sm text-gray-500">Tagihan Belum Dibayar</p>
                <p class="text-2xl font-bold text-gray-800">12</p>
            </div>
        </div>
    </div>

    <!-- Statistik -->
    <div class="bg-white dark:bg-zinc-800 shadow rounded-xl p-6 mb-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Total pesanan per bulan
        </h2>
        <canvas id="pengirimanChart" height="60"></canvas>
    </div>

    <!-- Tabel pesanan -->
    <div class="bg-white dark:bg-zinc-800 shadow rounded-xl p-6">
        <h2 class="text-lg font-semibold text-gray-800 mb-4">
            Pesanan Terbaru
        </h2>

        <div class="overflow-x-auto">
            <table class="min-w-full text-sm text-left text-gray-600">
                <thead
                    class="text-xs text-gray-500 uppercase bg-gray-100 dark:bg-zinc-700"
                >
                    <tr>
                        <th scope="col" class="px-4 py-3">Kode</th>
                        <th scope="col" class="px-4 py-3">Nama Pelanggan</th>
                        <th scope="col" class="px-4 py-3">Layanan</th>
                        <th scope="col" class="px-4 py-3">Status</th>
                        <th scope="col" class="px-4 py-3">Tanggal</th>
                        <th scope="col" class="px-4 py-3">Aksi</th>
                    </tr>
                </thead>
                <tbody
                    class="bg-white dark:bg-zinc-800 divide-y divide-gray-200 dark:divide-gray-800"
                >
                    <tr>
                        <td class="px-4 py-3 font-medium text-gray-800">
                            BCE-U-240626-001
                        </td>
                        <td class="px-4 py-3">Fajar Prasetyo</td>
                        <td class="px-4 py-3">Kargo Darat</td>
                        <td class="px-4 py-3">
                            <span
                                class="inline-block px-2 py-1 text-xs font-semibold text-white bg-yellow-500 rounded-full"
                            >
                                Dikirim
                            </span>
                        </td>
                        <td class="px-4 py-3">22 Jul 2025</td>
                        <td class="px-4 py-3">
                            <a
                                href="#"
                                class="text-green-600 hover:underline text-sm font-medium"
                                >Lihat</a
                            >
                        </td>
                    </tr>

                    <tr>
                        <td class="px-4 py-3 font-medium text-gray-800">
                            BCE-D-240626-002
                        </td>
                        <td class="px-4 py-3">Dina Rahayu</td>
                        <td class="px-4 py-3">Kargo Laut</td>
                        <td class="px-4 py-3">
                            <span
                                class="inline-block px-2 py-1 text-xs font-semibold text-white bg-green-500 rounded-full"
                            >
                                Terkirim
                            </span>
                        </td>
                        <td class="px-4 py-3">21 Jul 2025</td>
                        <td class="px-4 py-3">
                            <a
                                href="#"
                                class="text-green-600 hover:underline text-sm font-medium"
                                >Lihat</a
                            >
                        </td>
                    </tr>

                    <tr>
                        <td class="px-4 py-3 font-medium text-gray-800">
                            BCE-D-160725-001
                        </td>
                        <td class="px-4 py-3">Andi Saputra</td>
                        <td class="px-4 py-3">Kargo Udara</td>
                        <td class="px-4 py-3">
                            <span
                                class="inline-block px-2 py-1 text-xs font-semibold text-white bg-red-500 rounded-full"
                            >
                                Gagal
                            </span>
                        </td>
                        <td class="px-4 py-3">21 Jul 2025</td>
                        <td class="px-4 py-3">
                            <a
                                href="#"
                                class="text-green-600 hover:underline text-sm font-medium"
                                >Lihat</a
                            >
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>
{% endblock %}
<!-- Js per halaman -->
{% block kontenjs %}
<script>
    const ctx = document.getElementById("pengirimanChart").getContext("2d");

    const pengirimanChart = new Chart(ctx, {
        type: "line", // Bisa ganti ke 'line'
        data: {
            labels: ["Jan", "Feb", "Mar", "Apr", "Mei", "Jun", "Jul"],
            datasets: [
                {
                    label: "Jumlah Pesanan",
                    data: [20, 35, 28, 40, 32, 25, 45],
                    backgroundColor: "rgba(34, 197, 94, 0.6)", // bg-green-500 semi
                    borderColor: "rgba(22, 163, 74, 1)", // green-600
                    borderWidth: 1,
                    borderRadius: 6,
                },
            ],
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true,
                    ticks: {
                        precision: 0,
                    },
                },
            },
            plugins: {
                legend: {
                    display: false,
                },
                tooltip: {
                    backgroundColor: "#1e293b",
                    titleColor: "#fff",
                    bodyColor: "#fff",
                },
            },
        },
    });
</script>

{% endblock %}
