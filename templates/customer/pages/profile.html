<!DOCTYPE html>
<html lang="id">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Profile | BCE</title>
        <link
            href="{{url_for('static',filename='dist/output.css')}}"
            rel="stylesheet"
        />
        <!-- Local CSS -->
        <link
            rel="stylesheet"
            href="{{url_for('static',filename='css/customer/style.css')}}"
        />
        <!-- Google icon -->
        <link
            rel="stylesheet"
            href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
        />
        <!-- Font Awesome -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"
            integrity="sha512-DxV+EoADOkOygM4IR9yXP8Sb2qwgidEmeqAEmDKIOfPRQZOWbXCzLC6vjbZyy0vPisbH2SyW27+ddLVCN+OMzQ=="
            crossorigin="anonymous"
            referrerpolicy="no-referrer"
        />
        <style>
            section {
                min-height: auto;
            }
            /* Zoom in & out sedang */
            @keyframes zoomPulse {
                0%,
                100% {
                    transform: scale(0.95);
                    opacity: 0.95;
                }
                50% {
                    transform: scale(1.05);
                    opacity: 1;
                }
            }
            .animate-zoom-pulse {
                animation: zoomPulse 2.5s ease-in-out infinite;
            }

            /* Glow neon menyatu logo */
            .logo-glow {
                filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.7))
                    drop-shadow(0 0 20px rgba(255, 255, 255, 0.6))
                    drop-shadow(0 0 40px rgba(144, 238, 144, 0.6));
                animation: glowPulse 1s ease-in-out infinite;
            }

            @keyframes glowPulse {
                0%,
                100% {
                    filter: drop-shadow(0 0 8px rgba(255, 255, 255, 0.7))
                        drop-shadow(0 0 16px rgba(255, 255, 255, 0.5))
                        drop-shadow(0 0 32px rgba(144, 238, 144, 0.5));
                }
                50% {
                    filter: drop-shadow(0 0 15px rgba(255, 255, 255, 0.9))
                        drop-shadow(0 0 30px rgba(255, 255, 255, 0.8))
                        drop-shadow(0 0 60px rgba(144, 238, 144, 0.7));
                }
            }
        </style>
    </head>
    <body class="bg-white font-sans">
        <!-- Navbar -->
        {% include 'customer/components/navbar.html' %}

        <!-- floating -->
        {% include 'customer/components/floating-sidebar.html' %}

        <!-- BIODATA DIRI -->
        <section
            class="max-w-5xl mx-auto py-12 px-6"
            id="bagian-informasi-pribadi"
        >
            <div
                class="max-w-2xl mx-auto bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg p-8 border border-green-100"
            >
                <!-- Header -->
                <div class="flex items-center justify-between mb-8">
                    <h2
                        class="text-2xl font-extrabold text-green-800 flex items-center gap-2"
                    >
                        <span class="material-symbols-rounded text-green-600"
                            >badge</span
                        >
                        Biodata Diri
                    </h2>
                    <button
                        id="btn-edit"
                        type="button"
                        class="rounded-full bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow transition cursor-pointer"
                    >
                        Edit
                    </button>
                </div>

                <!-- Form -->
                <form id="form-biodata" class="space-y-6">
                    <!-- Nama Lengkap -->
                    <div class="relative">
                        <label
                            for="nama"
                            class="block text-sm font-medium text-gray-700"
                            >Nama Lengkap</label
                        >
                        <div class="mt-1 relative">
                            <input
                                type="text"
                                id="nama"
                                name="nama"
                                maxlength="100"
                                required
                                readonly
                                class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                            />
                            <span
                                class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                >person</span
                            >
                        </div>
                        <p
                            class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                        >
                            Nama lengkap wajib diisi (maksimal 100 karakter).
                        </p>
                    </div>

                    <!-- Nomor Ponsel -->
                    <div class="relative">
                        <label
                            for="ponsel"
                            class="block text-sm font-medium text-gray-700"
                            >Nomor Ponsel</label
                        >
                        <div class="mt-1 relative">
                            <input
                                type="tel"
                                id="ponsel"
                                name="ponsel"
                                minlength="10"
                                maxlength="13"
                                required
                                pattern="[0-9]+"
                                readonly
                                class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                            />
                            <span
                                class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                >phone</span
                            >
                        </div>
                        <p
                            class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                        >
                            Nomor ponsel wajib angka 10–13 digit.
                        </p>
                    </div>

                    <!-- Jenis Pelanggan + Nama Perusahaan -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="jenis"
                                class="block text-sm font-medium text-gray-700"
                                >Jenis Pelanggan</label
                            >
                            <div class="mt-1 relative">
                                <select
                                    id="jenis"
                                    name="jenis"
                                    required
                                    disabled
                                    class="peer block w-full rounded-lg border border-gray-300 bg-gray-100 text-gray-500 pl-10 pr-3 py-2 text-sm focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition cursor-pointer"
                                >
                                    <option value="">Pilih jenis</option>
                                    <option value="perorangan" selected>
                                        Perorangan
                                    </option>
                                    <option value="perusahaan">
                                        Perusahaan
                                    </option>
                                </select>
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >group</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                            >
                                Jenis pelanggan wajib dipilih.
                            </p>
                        </div>

                        <!-- Nama Perusahaan -->
                        <div id="field-perusahaan" class="hidden relative">
                            <label
                                for="perusahaan"
                                class="block text-sm font-medium text-gray-700"
                                >Nama Perusahaan</label
                            >
                            <div class="mt-1 relative">
                                <input
                                    type="text"
                                    id="perusahaan"
                                    name="perusahaan"
                                    maxlength="100"
                                    readonly
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                    placeholder="Masukkan nama perusahaan"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-2.5 text-gray-400"
                                    >business</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 hidden"
                                id="error-perusahaan"
                            >
                                Nama perusahaan wajib diisi.
                            </p>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div
                        id="action-buttons"
                        class="hidden flex justify-end gap-3 pt-4"
                    >
                        <button
                            type="button"
                            id="btn-cancel"
                            class="rounded-lg border border-gray-300 bg-white px-5 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"
                        >
                            Batal
                        </button>
                        <button
                            type="submit"
                            class="rounded-lg bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow cursor-pointer"
                        >
                            Simpan
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <!-- ALAMAT -->
        <section class="max-w-5xl mx-auto py-12 px-6" id="bagian-buku-alamat">
            <div
                class="max-w-3xl mx-auto bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg p-8 border border-green-100"
            >
                <!-- Header -->
                <div class="flex items-center justify-between mb-8">
                    <h2
                        class="text-2xl font-extrabold text-green-800 flex items-center gap-2"
                    >
                        <span class="material-symbols-rounded text-green-600"
                            >home_pin</span
                        >
                        Alamat
                    </h2>
                    <button
                        id="btn-edit-alamat"
                        type="button"
                        class="rounded-full bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow transition cursor-pointer"
                    >
                        Edit
                    </button>
                </div>

                <!-- Form -->
                <form id="form-alamat" class="space-y-6">
                    <div class="relative">
                        <label
                            for="jalan"
                            class="block text-sm font-medium text-gray-700"
                            >Jalan</label
                        >
                        <div class="mt-1 relative">
                            <span
                                class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                            >
                                location_on
                            </span>
                            <input
                                type="text"
                                id="jalan"
                                name="jalan"
                                maxlength="100"
                                required
                                readonly
                                class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2.5 text-sm text-gray-600 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                            />
                        </div>
                    </div>

                    <!-- Kode Pos + WhatsApp -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="kodepos"
                                class="block text-sm font-medium text-gray-700"
                                >Kode Pos</label
                            >
                            <div class="mt-1 relative">
                                <input
                                    type="text"
                                    id="kodepos"
                                    name="kodepos"
                                    minlength="5"
                                    maxlength="5"
                                    pattern="[0-9]{5}"
                                    required
                                    readonly
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >markunread_mailbox</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                            >
                                Kode pos wajib 5 digit angka.
                            </p>
                        </div>
                        <div class="relative">
                            <label
                                for="whatsapp"
                                class="block text-sm font-medium text-gray-700"
                                >Nomor WhatsApp</label
                            >
                            <div class="mt-1 relative">
                                <input
                                    type="tel"
                                    id="whatsapp"
                                    name="whatsapp"
                                    minlength="10"
                                    maxlength="13"
                                    pattern="[0-9]+"
                                    required
                                    readonly
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >phone_iphone</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                            >
                                Nomor WA wajib angka 10–13 digit.
                            </p>
                        </div>
                    </div>

                    <!-- RT + RW -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="rt"
                                class="block text-sm font-medium text-gray-700"
                                >RT</label
                            >
                            <div class="mt-1 relative">
                                <input
                                    type="text"
                                    id="rt"
                                    name="rt"
                                    minlength="4"
                                    maxlength="4"
                                    pattern="[0-9]{4}"
                                    required
                                    readonly
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >tag</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                            >
                                RT wajib 4 digit angka.
                            </p>
                        </div>
                        <div class="relative">
                            <label
                                for="rw"
                                class="block text-sm font-medium text-gray-700"
                                >RW</label
                            >
                            <div class="mt-1 relative">
                                <input
                                    type="text"
                                    id="rw"
                                    name="rw"
                                    minlength="4"
                                    maxlength="4"
                                    pattern="[0-9]{4}"
                                    required
                                    readonly
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >tag</span
                                >
                            </div>
                            <p
                                class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                            >
                                RW wajib 4 digit angka.
                            </p>
                        </div>
                    </div>

                    <!-- Provinsi, Kabupaten, Kecamatan, Kelurahan -->
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div class="relative">
                            <label
                                for="provinsi"
                                class="block text-sm font-medium text-gray-700"
                                >Provinsi</label
                            >
                            <div class="relative">
                                <select
                                    id="provinsi"
                                    name="provinsi"
                                    required
                                    disabled
                                    class="peer block w-full rounded-lg border border-gray-300 bg-gray-100 text-gray-500 pl-10 pr-3 py-2 text-sm focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition cursor-pointer"
                                >
                                    <option value="">Pilih provinsi</option>
                                    <option value="jakarta" selected>
                                        DKI Jakarta
                                    </option>
                                    <option value="jabar">Jawa Barat</option>
                                </select>
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >map</span
                                >
                            </div>
                        </div>
                        <div class="relative">
                            <label
                                for="kabupaten"
                                class="block text-sm font-medium text-gray-700"
                                >Kabupaten</label
                            >
                            <div class="relative">
                                <select
                                    id="kabupaten"
                                    name="kabupaten"
                                    required
                                    disabled
                                    class="peer block w-full rounded-lg border border-gray-300 bg-gray-100 text-gray-500 pl-10 pr-3 py-2 text-sm focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition cursor-pointer"
                                >
                                    <option value="">Pilih kabupaten</option>
                                    <option value="jaksel" selected>
                                        Jakarta Selatan
                                    </option>
                                </select>
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >domain</span
                                >
                            </div>
                        </div>
                        <div class="relative">
                            <label
                                for="kecamatan"
                                class="block text-sm font-medium text-gray-700"
                                >Kecamatan</label
                            >
                            <div class="relative">
                                <select
                                    id="kecamatan"
                                    name="kecamatan"
                                    required
                                    disabled
                                    class="peer block w-full rounded-lg border border-gray-300 bg-gray-100 text-gray-500 pl-10 pr-3 py-2 text-sm focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition cursor-pointer"
                                >
                                    <option value="">Pilih kecamatan</option>
                                    <option value="tebet" selected>
                                        Tebet
                                    </option>
                                </select>
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >map</span
                                >
                            </div>
                        </div>
                        <div class="relative">
                            <label
                                for="kelurahan"
                                class="block text-sm font-medium text-gray-700"
                                >Kelurahan</label
                            >
                            <div class="relative">
                                <select
                                    id="kelurahan"
                                    name="kelurahan"
                                    required
                                    disabled
                                    class="peer block w-full rounded-lg border border-gray-300 bg-gray-100 text-gray-500 pl-10 pr-3 py-2 text-sm focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition cursor-pointer"
                                >
                                    <option value="">Pilih kelurahan</option>
                                    <option value="menteng" selected>
                                        Menteng Dalam
                                    </option>
                                </select>
                                <span
                                    class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                    >location_city</span
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div
                        id="alamat-actions"
                        class="hidden flex justify-end gap-3 pt-4"
                    >
                        <button
                            type="button"
                            id="btn-cancel-alamat"
                            class="rounded-lg border border-gray-300 bg-white px-5 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"
                        >
                            Batal
                        </button>
                        <button
                            type="submit"
                            class="rounded-lg bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow cursor-pointer"
                        >
                            Simpan
                        </button>
                    </div>
                </form>
            </div>
        </section>

        <section
            class="max-w-5xl mx-auto py-12 px-6"
            id="bagian-informasi-akun"
        >
            <div
                class="max-w-2xl mx-auto bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-lg p-8 border border-green-100"
            >
                <!-- Header -->
                <div class="flex items-center justify-between mb-8">
                    <h2
                        class="text-2xl font-extrabold text-green-800 flex items-center gap-2"
                    >
                        <span class="material-symbols-rounded text-green-600"
                            >manage_accounts</span
                        >
                        Informasi Akun
                    </h2>
                    <button
                        id="btn-edit-akun"
                        type="button"
                        class="rounded-full bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow transition cursor-pointer"
                    >
                        Edit
                    </button>
                </div>

                <!-- Form -->
                <form id="form-akun" class="space-y-6">
                    <!-- Nama -->
                    <div class="relative">
                        <label
                            for="nama-akun"
                            class="block text-sm font-medium text-gray-700"
                            >Nama</label
                        >
                        <div class="mt-1 relative">
                            <input
                                type="text"
                                id="nama-akun"
                                name="nama-akun"
                                maxlength="50"
                                required
                                readonly
                                class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                            />
                            <span
                                class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                >person</span
                            >
                        </div>
                        <p
                            class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                        >
                            Nama wajib diisi (maksimal 50 karakter).
                        </p>
                    </div>

                    <!-- Email -->
                    <div class="relative">
                        <label
                            for="email"
                            class="block text-sm font-medium text-gray-700"
                            >Email</label
                        >
                        <div class="mt-1 relative">
                            <input
                                type="email"
                                id="email"
                                name="email"
                                maxlength="100"
                                required
                                readonly
                                class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-500 bg-gray-100 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                            />
                            <span
                                class="material-symbols-rounded absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"
                                >mail</span
                            >
                        </div>
                        <p
                            class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                        >
                            Email wajib diisi (maksimal 100 karakter).
                        </p>
                    </div>

                    <!-- Edit Password -->
                    <div class="space-y-3">
                        <div class="flex justify-between items-center">
                            <label
                                class="block text-sm font-medium text-gray-700"
                                >Password</label
                            >
                            <button
                                type="button"
                                id="btn-edit-password"
                                class="text-sm text-green-600 font-medium flex items-center gap-1 cursor-pointer"
                            >
                                <span class="material-symbols-rounded text-base"
                                    >lock_reset</span
                                >
                                Ubah Password
                            </button>
                        </div>

                        <!-- Kolom Password Baru (Hidden awalnya) -->
                        <div id="password-fields" class="hidden space-y-4">
                            <div class="relative">
                                <input
                                    type="password"
                                    id="password"
                                    name="password"
                                    placeholder="Password baru"
                                    minlength="6"
                                    maxlength="50"
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-700 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-2.5 text-gray-400"
                                    >lock</span
                                >
                                <p
                                    class="mt-1 text-xs text-red-600 invisible peer-invalid:visible"
                                >
                                    Password minimal 6 karakter.
                                </p>
                            </div>
                            <div class="relative">
                                <input
                                    type="password"
                                    id="konfirmasi-password"
                                    name="konfirmasi-password"
                                    placeholder="Konfirmasi password baru"
                                    minlength="6"
                                    maxlength="50"
                                    class="peer block w-full rounded-lg border border-gray-300 pl-10 pr-3 py-2 text-sm text-gray-700 focus:border-green-500 focus:ring-green-500 invalid:border-red-500 transition"
                                />
                                <span
                                    class="material-symbols-rounded absolute left-3 top-2.5 text-gray-400"
                                    >verified_user</span
                                >
                            </div>
                        </div>
                    </div>

                    <!-- Tombol Aksi -->
                    <div
                        id="action-buttons-akun"
                        class="hidden flex justify-end gap-3 pt-4"
                    >
                        <button
                            type="button"
                            id="btn-cancel-akun"
                            class="rounded-lg border border-gray-300 bg-white px-5 py-2 text-sm font-medium text-gray-700 hover:bg-gray-100 cursor-pointer"
                        >
                            Batal
                        </button>
                        <button
                            type="submit"
                            class="rounded-lg bg-green-600 px-5 py-2 text-sm font-medium text-white hover:bg-green-700 shadow cursor-pointer"
                        >
                            Simpan
                        </button>
                    </div>
                </form>
            </div>
        </section>
        <!-- Overlay Transition -->
        <div
            id="page-transition"
            class="fixed inset-0 z-[9999] flex items-center justify-center bg-green-600 transform translate-x-full transition-transform duration-700 ease-in-out"
        >
            <!-- Logo BCE -->
            <div class="relative flex items-center justify-center">
                <!-- Logo + efek glow -->
                <img
                    src="/static/images/logo_transparant.png"
                    alt="BCE Logo"
                    class="relative w-24 h-24 animate-zoom-pulse logo-glow"
                    id="bce-logo"
                />
            </div>
        </div>

        <!-- footer -->
        {% include 'customer/components/footer.html' %}
        <!-- Flowbite JS -->
        <script src="/node_modules/flowbite/dist/flowbite.min.js"></script>
        <script>
            const transitionEl = document.getElementById("page-transition");
            const links = document.querySelectorAll(".page-link");

            links.forEach((link) => {
                link.addEventListener("click", function (e) {
                    e.preventDefault();
                    const target = this.getAttribute("href");

                    // Tirai menutup
                    transitionEl.classList.remove("translate-x-full");
                    transitionEl.classList.add("translate-x-0");

                    // Redirect setelah animasi selesai
                    setTimeout(() => {
                        window.location.href = target;
                    }, 1200);
                });
            });

            // Tirai terbuka saat pertama load halaman
            window.addEventListener("load", () => {
                setTimeout(() => {
                    transitionEl.classList.add("translate-x-full");
                    transitionEl.classList.remove("translate-x-0");
                }, 500);
            });

            // Biodata Diri
            const btnEdit = document.getElementById("btn-edit");
            const btnCancel = document.getElementById("btn-cancel");
            const actionButtons = document.getElementById("action-buttons");
            const form = document.getElementById("form-biodata");
            const inputs = form.querySelectorAll("input, select, textarea");

            let editMode = false;

            function toggleEditMode(on) {
                inputs.forEach((el) => {
                    if (el.tagName === "SELECT") {
                        el.disabled = !on;
                    } else {
                        el.readOnly = !on;
                    }
                    // style toggle
                    el.classList.toggle("bg-gray-100", !on);
                    el.classList.toggle("text-gray-500", !on);
                    el.classList.toggle("text-gray-900", on);
                });
                btnEdit.classList.toggle("hidden", on);
                actionButtons.classList.toggle("hidden", !on);
                editMode = on;
            }

            btnEdit.addEventListener("click", () => toggleEditMode(true));
            btnCancel.addEventListener("click", () => toggleEditMode(false));

            // Optional: tampilkan field perusahaan kalau jenis == perusahaan
            const jenisSelect = document.getElementById("jenis");
            const perusahaanField = document.getElementById("field-perusahaan");
            jenisSelect.addEventListener("change", () => {
                if (jenisSelect.value === "perusahaan") {
                    perusahaanField.classList.remove("hidden");
                    document
                        .getElementById("perusahaan")
                        .setAttribute("required", "true");
                } else {
                    perusahaanField.classList.add("hidden");
                    document
                        .getElementById("perusahaan")
                        .removeAttribute("required");
                }
            });

            // Alamat
            const btnEditAlamat = document.getElementById("btn-edit-alamat");
            const btnCancelAlamat =
                document.getElementById("btn-cancel-alamat");
            const actionAlamat = document.getElementById("alamat-actions");
            const formAlamat = document.getElementById("form-alamat");
            const inputsAlamat = formAlamat.querySelectorAll(
                "input, select, textarea"
            );

            function toggleAlamatEdit(on) {
                inputsAlamat.forEach((el) => {
                    if (el.tagName === "SELECT") {
                        el.disabled = !on;
                    } else {
                        el.readOnly = !on;
                    }
                    // style toggle
                    el.classList.toggle("bg-gray-100", !on);
                    el.classList.toggle("text-gray-500", !on);
                    el.classList.toggle("text-gray-900", on);
                });
                btnEditAlamat.classList.toggle("hidden", on);
                actionAlamat.classList.toggle("hidden", !on);
            }

            btnEditAlamat.addEventListener("click", () =>
                toggleAlamatEdit(true)
            );
            btnCancelAlamat.addEventListener("click", () =>
                toggleAlamatEdit(false)
            );

            // Tombol edit informasi akun
            // Ambil elemen
            const formAkun = document.getElementById("form-akun");
            const btnEditAkun = document.getElementById("btn-edit-akun");
            const btnCancelAkun = document.getElementById("btn-cancel-akun");
            const actionButtonsAkun = document.getElementById(
                "action-buttons-akun"
            );

            const btnEditPassword =
                document.getElementById("btn-edit-password");
            const passwordFields = document.getElementById("password-fields");
            const passBaru = document.getElementById("password-baru");
            const passKonfirmasi = document.getElementById(
                "password-konfirmasi"
            );
            const errorKonfirmasi = document.getElementById("error-konfirmasi");

            // === Password Section ===
            btnEditPassword.addEventListener("click", () => {
                passwordFields.classList.toggle("hidden");
                // reset field kalau disembunyikan
                if (passwordFields.classList.contains("hidden")) {
                    passBaru.value = "";
                    passKonfirmasi.value = "";
                    errorKonfirmasi.classList.add("hidden");
                }
            });

            // Validasi submit form
            formAkun.addEventListener("submit", (e) => {
                if (!passwordFields.classList.contains("hidden")) {
                    if (passBaru.value !== passKonfirmasi.value) {
                        e.preventDefault();
                        errorKonfirmasi.classList.remove("hidden");
                    } else {
                        errorKonfirmasi.classList.add("hidden");
                    }
                }
            });

            // === Edit Akun Section ===
            btnEditAkun.addEventListener("click", () => {
                // aktifkan semua input
                formAkun.querySelectorAll("input, select").forEach((el) => {
                    el.removeAttribute("readonly");
                    el.removeAttribute("disabled");
                    el.classList.remove("bg-gray-100", "text-gray-500");
                    el.classList.add("text-gray-700");
                });

                actionButtonsAkun.classList.remove("hidden");
                btnEditAkun.classList.add("hidden");
            });

            // tombol batal
            btnCancelAkun.addEventListener("click", () => {
                // reset kembali readonly/disabled
                formAkun.querySelectorAll("input, select").forEach((el) => {
                    el.setAttribute("readonly", true);
                    el.setAttribute("disabled", true);
                    el.classList.add("bg-gray-100", "text-gray-500");
                });

                actionButtonsAkun.classList.add("hidden");
                btnEditAkun.classList.remove("hidden");

                // sembunyikan password section
                passwordFields.classList.add("hidden");
                passBaru.value = "";
                passKonfirmasi.value = "";
                errorKonfirmasi.classList.add("hidden");
            });

            // FUNGSI PROFILE
            form.addEventListener("submit", function (e) {
                e.preventDefault();

                const formData = new FormData(form);
                formData.append("form_type", "biodata");

                fetch("/customer/api/profile", {
                    method: "POST",
                    body: formData,
                })
                    .then((res) => res.json())
                    .then((data) => {
                        if (data.status === "success") {
                            alert("Biodata berhasil disimpan!");
                            toggleEditMode(false);
                        } else {
                            alert(data.message);
                        }
                    })
                    .catch((err) => console.error(err));
            });

            form.addEventListener("submit", function (e) {
                e.preventDefault();
                const formData = new FormData(form);
                fetch("/customer/api/data_pelanggan", {
                    method: "POST",
                    body: formData,
                })
                    .then((res) => res.json())
                    .then((data) => {
                        if (data.status === "success") {
                            alert(data.message);
                            toggleEditMode(false);
                        } else {
                            alert(data.message);
                        }
                    })
                    .catch((err) => console.error(err));
            });

            // VALIDASI
            
        </script>
    </body>
</html>
